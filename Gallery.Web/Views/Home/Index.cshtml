@using Gallery.Business.Models
@{ ViewData["Title"] = "Home Page"; }

<div class="page-content">
    <div class="container">
        <div class="container px-0 py-4"> 
            <div class="pp-category-filter">
                <div class="row">
                    <div class="col-sm-12">
                        <a class="btn btn-primary pp-filter-button" href="" data-filter="all">All</a>
                        @foreach (var item in @ViewBag.Categories)
                        {
                            <a class="btn btn-outline-primary pp-filter-button" data-filter="@item.Name">@item.Name</a>
                        }
                    </div>
                </div>
            </div>
        </div>
        <div class="container px-0">
            <div class="pp-gallery">
                <div class="card-columns">

                    @foreach (Image image in @ViewBag.Images)
                    {
                        <div class="card" data-groups="[&quot;@image.Categories.First().Name&quot;]">
                            <a asp-controller="Image" asp-action="Get" asp-route-imageId="@image.ID">
                                <figure class="pp-effect">
                                    <img class="img-fluid" src="data:@image.Format;base64,@Convert.ToBase64String(@image.Data)"/>
                                    <figcaption>
                                        <div class="h4">@image.Title</div>
                                        <p>@image.Author</p>
                                    </figcaption>
                                </figure>
                            </a>
                        </div>
                    }
                    </div>
            </div>
        </div>
        <div class="pp-section">
            <a class="btn btn-outline-primary" asp-controller="Image" asp-action="Index">All Photos</a>
            @foreach (var item in @ViewBag.Categories)
            {
                <a class="btn btn-outline-primary" asp-controller="Category" asp-action="Images" asp-route-categoryid="@item.ID">@item.Name</a>
            }
            </div>
    </div>
</div>
